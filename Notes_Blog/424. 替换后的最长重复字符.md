# 424. 替换后的最长重复字符


## 解题思路

```java

int left = 0; 和 int right = 0; 初始化左右指针，这两个指针定义了滑动窗口的范围。

int len = s.length(); 获取输入字符串的长度。

if(len < 2){ return len; } 如果字符串长度小于2，直接返回字符串长度，因为无需替换任何字符。

char[] charArr = s.toCharArray(); 将输入字符串转换为字符数组，方便后续操作。

int maxCount = 0; 用于记录当前窗口中出现次数最多的字符的出现次数。

int res = 0; 用于保存最终的结果，即最大的滑动窗口长度。

int[] freq = new int[26]; 用于记录当前窗口中每个字符的出现频率，数组大小为26，因为假设字符串中只包含大写字母。

进入主要的滑动窗口处理循环：

a. freq[charArr[right] - 'A']++; 统计当前窗口右端字符的频率。

b. maxCount = Math.max(maxCount, freq[charArr[right] - 'A']); 更新最大频率。

c. right++; 右指针向右移动，扩展窗口。

d. if(right - left > maxCount + k) 如果窗口大小超过了最大频率加上可替换的字符数k，说明需要缩小窗口。

freq[charArr[left] - 'A']--; 缩小窗口时，将左端字符的频率减一。
left++; 左指针向右移动，收缩窗口。
e. res = Math.max(res, right - left); 更新最大滑动窗口的长度。

返回最终结果 res，即滑动窗口中最大的连续相同字符的长度。
```

```java
class Solution {
    public int characterReplacement(String s, int k) {
        // 子字符串是连续的
        int left = 0;
        int right = 0;

        int len = s.length();

        if(len < 2){
            return len;
        }

        char[] charArr = s.toCharArray();// 转换为字符串

        // 滑动窗口滑动过程中 只要窗口内不同的字符小于等于k 就可以将不同的字符全部替换为相同的字符
        int maxCount = 0;
        int res = 0;// 保存最大的滑动窗口长度
        int[] freq = new int[26];

        while(right < len){
            // 取出当前的字符串
            freq[charArr[right] - 'A']++;// 出现的频率 + 1

            // 更新最大数量
            maxCount = Math.max(maxCount,freq[charArr[right] - 'A']);

            right++;
            if(right - left > maxCount + k){

                // 最左边的字符频率 -1
                freq[charArr[left] - 'A']--;
                left++;// 收缩窗口
            }

            // 记录最大值
            res = Math.max(res,right - left);
        }

        return res;
    }
}

```